<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>设计百宝库 - 设计师素材资源工具箱</title>
    
    <meta name="description" content="设计百宝库 - 设计师素材资源工具箱">
    <meta property="og:title" content="设计百宝库">
    <link rel="icon" href="https://pic3.fukit.cn/autoupload/NWINCyTOTWqNUcPQazQq69iO_OyvX7mIgxFBfDMDErs/20251101/8hkj/ico.ico" type="zizaoicon">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        darkMode: 'class',
        theme: {
          extend: {
            fontFamily: { sans: ['Inter', '-apple-system', 'BlinkMacSystemFont', 'Segoe UI', 'Roboto', 'sans-serif'] },
            colors: { 
              primary: { 
                50: '#FFF8F0', 100: '#FFEAD6', 200: '#FFCD99', 300: '#FFB05C', 
                400: '#FF992E', 500: '#FF8C19', 600: '#E67300', 700: '#CC6000'
              }
            },
            boxShadow: {
              'glass-light': '0 8px 30px rgba(0,0,0,0.04), inset 0 0 0 1px rgba(255,255,255,0.8)',
              'glass-hover-light': '0 20px 40px rgba(0,0,0,0.08), inset 0 0 0 1px rgba(255,255,255,0.9)',
              'dock-light': '0 10px 20px -5px rgba(0, 0, 0, 0.05), inset 0 1px 0 rgba(255,255,255,0.6), 0 0 0 1px rgba(0,0,0,0.02)',
              'dock-dark': '0 25px 50px -12px rgba(0, 0, 0, 0.5), inset 0 1px 0 rgba(255,255,255,0.1), 0 0 0 1px rgba(255,255,255,0.1)',
            }
          }
        }
      }
    </script>

    <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <script src="data.js"></script>
</head>
<body class="antialiased text-gray-900 dark:text-gray-100 selection:bg-primary-500 selection:text-white">
    <div class="noise-overlay"></div>
    <div class="liquid-bg">
        <div class="liquid-blob blob-1"></div>
        <div class="liquid-blob blob-2"></div>
        <div class="liquid-blob blob-3"></div>
    </div>
    <div class="liquid-bg-dark"></div>

    <div id="root"></div>

    <script type="text/babel">
        const { useState, useMemo, useRef, useEffect } = React;
        const APP_DATA = window.APP_DATA || { BANNER_CONFIG: {}, CATEGORIES: {} };
        const { BANNER_CONFIG, CATEGORIES, MOCK_AI_PROMPTS, MOCK_FONTS, MOCK_SOFTWARE, MOCK_TOOLS, MOCK_ASSETS } = APP_DATA;

        // --- Icons ---
        const Icons = {
            Sparkles: (p) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...p}><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L12 3Z"/><path d="M5 3v4"/><path d="M9 9v4"/><path d="M20 21v-4"/><path d="M16 16v-4"/></svg>,
            Type: (p) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...p}><polyline points="4 7 4 4 20 4 20 7"/><line x1="9" x2="15" y1="20" y2="20"/><line x1="12" x2="12" y1="4" y2="20"/></svg>,
            Box: (p) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...p}><path d="M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"/><path d="m3.3 7 8.7 5 8.7-5"/><path d="M12 22V12"/></svg>,
            Layers: (p) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...p}><polygon points="12 2 2 7 12 12 22 7 12 2"/><polyline points="2 17 12 22 22 17"/><polyline points="2 12 12 17 22 12"/></svg>,
            Zap: (p) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...p}><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>,
            Search: (p) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...p}><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>,
            Moon: (p) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...p}><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"/></svg>,
            Sun: (p) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...p}><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></svg>,
            ArrowRight: (p) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...p}><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg>,
            ExternalLink: (p) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...p}><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" x2="21" y1="14" y2="3"/></svg>,
            Download: (p) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...p}><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" x2="12" y1="15" y2="3"/></svg>,
            Copy: (p) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...p}><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></svg>,
            Check: (p) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...p}><polyline points="20 6 9 17 4 12"/></svg>,
            Maximize2: (p) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...p}><polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" x2="14" y1="3" y2="10"/><line x1="3" x2="10" y1="21" y2="14"/></svg>,
            Wand2: (p) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...p}><path d="m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z"/><path d="m14 7 3 3"/><path d="M5 6v4"/><path d="M19 14v4"/><path d="M10 2v2"/><path d="M7 8H5"/><path d="M21 16h-2"/><path d="M11 3H9"/></svg>,
            DownloadCloud: (p) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...p}><path d="M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"/><polyline points="12 12 12 21"/><polyline points="8 17 12 21 16 17"/></svg>,
            X: (p) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...p}><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>,
            Smile: (p) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...p}><circle cx="12" cy="12" r="10"/><path d="M8 14s1.5 2 4 2 4-2 4-2"/><line x1="9" x2="9.01" y1="9" y2="9"/><line x1="15" x2="15.01" y1="9" y2="9"/></svg>
        };

        const TopNavigationBar = ({ currentView, onViewChange, isDark, toggleTheme, onSearch, searchQuery }) => {
            const navTabsRef = useRef([]);
            const [indicatorStyle, setIndicatorStyle] = useState({ left: 0, width: 0, opacity: 0 });
            const navItems = [
                { id: 'recommend', label: '精选', icon: Icons.Zap },
                { id: 'ai-prompts', label: 'AI灵感', icon: Icons.Sparkles },
                { id: 'fonts', label: '字体库', icon: Icons.Type },
                { id: 'design-assets', label: '素材集', icon: Icons.Layers },
                { id: 'software', label: '工具箱', icon: Icons.Box },
            ];

            useEffect(() => {
                const calculatePosition = () => {
                    const activeIndex = navItems.findIndex(item => item.id === currentView);
                    const currentTab = navTabsRef.current[activeIndex];
                    if (currentTab) setIndicatorStyle({ left: currentTab.offsetLeft, width: currentTab.offsetWidth, opacity: 1 });
                };
                calculatePosition();
                requestAnimationFrame(() => { calculatePosition(); setTimeout(calculatePosition, 200); });
                window.addEventListener('resize', calculatePosition);
                return () => window.removeEventListener('resize', calculatePosition);
            }, [currentView]);

            return (
                <header className="fixed top-0 left-0 right-0 z-50 px-6 py-6 pointer-events-none">
                    <div className="max-w-[1800px] mx-auto flex items-center justify-between">
                        <div className="pointer-events-auto flex items-center select-none group cursor-pointer active:scale-95 transition-transform duration-200" onClick={() => onViewChange('recommend')}>
                            <img src="baibaoku-logo.svg" alt="ZIZAO" className="h-9 md:h-10 w-auto object-contain dark:brightness-0 dark:invert opacity-100 group-hover:opacity-80 transition-opacity" />
                        </div>

                        <nav className="pointer-events-auto hidden md:flex items-center relative p-1.5 rounded-full liquid-glass border border-white/60 dark:border-white/10 shadow-dock-light dark:shadow-dock-dark backdrop-blur-2xl">
                            <div className="absolute h-[calc(100%-0.75rem)] top-1.5 bg-gray-900 dark:bg-white rounded-full transition-all duration-300 ease-[cubic-bezier(0.25,0.8,0.25,1)] shadow-md z-0" style={{ left: indicatorStyle.left, width: indicatorStyle.width, opacity: indicatorStyle.opacity }} />
                            {navItems.map((item, index) => {
                                const isActive = currentView === item.id;
                                const Icon = item.icon;
                                return (
                                    <button key={item.id} ref={el => navTabsRef.current[index] = el} onClick={() => onViewChange(item.id)} className={`relative px-5 py-2.5 rounded-full transition-colors duration-300 flex items-center gap-2 z-10 ${isActive ? 'text-white dark:text-black' : 'text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white'}`}>
                                        <Icon size={16} strokeWidth={2.5} />
                                        <span className="font-bold text-xs tracking-wide">{item.label}</span>
                                    </button>
                                );
                            })}
                        </nav>

                        <div className="pointer-events-auto flex items-center gap-3">
                            <div className="hidden sm:flex items-center gap-2 px-4 py-2.5 rounded-full bg-white/60 dark:bg-black/20 border border-white/60 dark:border-white/5 backdrop-blur-xl shadow-sm focus-within:shadow-glass-hover-light focus-within:w-60 transition-all duration-500 w-44 group hover:bg-white/80">
                                <Icons.Search size={14} className="text-gray-400 shrink-0 group-focus-within:text-primary-500" strokeWidth={2.5} />
                                <input type="text" value={searchQuery} onChange={(e) => onSearch(e.target.value)} placeholder="搜索资源..." className="bg-transparent border-none outline-none text-xs font-semibold text-gray-800 dark:text-gray-100 placeholder-gray-400 w-full" />
                            </div>
                            <button onClick={toggleTheme} className="w-10 h-10 flex items-center justify-center rounded-full bg-white/60 hover:bg-white dark:bg-white/5 dark:hover:bg-white/10 text-gray-600 dark:text-gray-300 shadow-sm backdrop-blur-xl border border-white/60 active:scale-90 transition-all">
                                {isDark ? <Icons.Moon size={18} strokeWidth={2.5} /> : <Icons.Sun size={18} strokeWidth={2.5} />}
                            </button>
                        </div>
                    </div>
                </header>
            );
        };

        const HeroSection = ({ currentView, banner }) => {
            const isHome = currentView === 'recommend';
            return (
                <section className="mb-8 pt-6">
                    <div className="relative rounded-[2.5rem] p-8 md:p-14 min-h-[260px] flex flex-col justify-center overflow-hidden group">
                         <div className="absolute inset-0 liquid-glass border border-white/60 dark:border-white/5 shadow-glass-light"></div>
                         <div className="relative z-10 w-full flex flex-col justify-center h-full">
                            {isHome ? (
                                <div className="flex flex-col md:flex-row justify-between items-start md:items-end gap-10">
                                    <div className="flex-1 space-y-6">
                                        <h1 className="text-5xl md:text-7xl font-black text-gray-900 dark:text-white tracking-tighter leading-tight hero-title-text drop-shadow-sm">Design Treasure.</h1>
                                        <div className="flex items-center gap-4">
                                            <div className="h-10 px-5 rounded-full bg-white/60 dark:bg-white/10 border border-white/50 backdrop-blur-md text-gray-900 dark:text-white font-bold text-xs shadow-sm flex items-center gap-2">
                                                <Icons.Smile size={16} className="text-primary-500" />
                                                <span>你好，勤劳的创作者</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div className="flex-1 text-right"><p className="text-xl md:text-2xl font-medium text-gray-500 dark:text-gray-300 max-w-md ml-auto leading-tight tracking-tight">精选全网最实用的神兵利器，<br/>让您的创意设计事半功倍。</p></div>
                                </div>
                            ) : (
                                <div className="flex flex-col md:flex-row items-center justify-between gap-8 animate-in fade-in slide-in-from-bottom-2 duration-700">
                                    <div className="text-center md:text-left">
                                        <div className="inline-flex items-center px-4 py-1.5 rounded-full bg-white/60 dark:bg-white/10 border border-white/50 backdrop-blur-md text-[10px] font-bold uppercase tracking-widest text-primary-600 dark:text-primary-400 mb-6 shadow-sm">{banner.englishTitle}</div>
                                        <h1 className="text-4xl md:text-6xl font-black text-gray-900 dark:text-white mb-4 tracking-tighter">{banner.title}</h1>
                                        <p className="text-lg text-gray-500 dark:text-gray-400 max-w-xl leading-relaxed">{banner.subtitle}</p>
                                    </div>
                                    <div className="hidden md:block">
                                        <div className="w-28 h-28 rounded-[2rem] bg-gradient-to-br from-primary-400 to-primary-600 flex items-center justify-center text-white shadow-2xl shadow-primary-500/30 transform rotate-6 group-hover:rotate-12 transition-transform duration-500">
                                            <Icons.Zap size={48} fill="currentColor" />
                                        </div>
                                    </div>
                                </div>
                            )}
                         </div>
                    </div>
                </section>
            );
        };

        const CategoryBar = ({ categories, activeCategory, onSelect }) => {
            const tabsRef = useRef([]);
            const [indicatorStyle, setIndicatorStyle] = useState({ left: 0, width: 0, opacity: 0 });
            useEffect(() => {
                if (!categories || !categories.length) return;
                const calculate = () => {
                    const idx = categories.findIndex(c => c.id === activeCategory);
                    const tab = tabsRef.current[idx];
                    if (tab) setIndicatorStyle({ left: tab.offsetLeft, width: tab.offsetWidth, opacity: 1 });
                };
                calculate();
                requestAnimationFrame(() => setTimeout(calculate, 100));
            }, [activeCategory, categories]);

            if (!categories || !categories.length) return null;
            return (
                <div className="sticky top-24 z-40 mb-8 -mx-4 md:mx-0 px-4 md:px-0">
                    <div className="flex items-center gap-3 overflow-x-auto no-scrollbar py-2">
                        <div className="relative p-1.5 rounded-full bg-white/70 dark:bg-black/40 backdrop-blur-xl border border-white/60 dark:border-white/10 flex items-center shadow-sm">
                           <div className="absolute h-[calc(100%-0.75rem)] top-1.5 bg-gray-900 dark:bg-white rounded-full transition-all duration-300 ease-[cubic-bezier(0.25,0.8,0.25,1)] shadow-md" style={{ left: indicatorStyle.left, width: indicatorStyle.width, opacity: indicatorStyle.opacity }} />
                           {categories.map((cat, index) => (
                                <button key={cat.id} ref={el => tabsRef.current[index] = el} onClick={() => onSelect(cat.id)} className={`relative px-5 py-2 rounded-full text-xs font-bold transition-colors duration-300 whitespace-nowrap z-10 ${activeCategory === cat.id ? 'text-white dark:text-black' : 'text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white'}`}>
                                    {cat.label}
                                </button>
                            ))} 
                        </div>
                    </div>
                </div>
            );
        };

        const CommonCard = ({ item, ctaText, icon: Icon, isDownload = false }) => {
            const isPaid = item.isPaid;
            const url = isDownload && item.downloadUrl ? item.downloadUrl : item.url;
            return (
                <a href={url} target="_blank" rel="noreferrer" className="block h-full outline-none">
                    <div className="liquid-glass rounded-[2rem] overflow-hidden flex flex-col h-full group border border-white/60 dark:border-white/5 transition-all duration-300 hover:shadow-glass-hover-light dark:hover:shadow-black/50 hover:-translate-y-1 bg-white/50 dark:bg-black/20 active:scale-[0.98]">
                        <div className="relative aspect-[16/10] w-full bg-gray-100 dark:bg-gray-800 overflow-hidden flex items-center justify-center shrink-0">
                            <img src={item.imageUrl} alt={item.name} className={`w-full h-full object-cover transition-all duration-700 ${isDownload ? 'grayscale group-hover:grayscale-0' : 'group-hover:scale-110'}`} loading="lazy" />
                        </div>
                        <div className="p-6 flex-1 flex flex-col border-t border-white/50 dark:border-white/5 bg-white/40 dark:bg-white/5 backdrop-blur-sm">
                            <div className="flex items-start justify-between mb-2 gap-2">
                                <h3 className="text-base font-bold text-gray-900 dark:text-white leading-tight line-clamp-1">{item.name}</h3>
                                {isPaid !== undefined && <span className={`px-2 py-0.5 rounded text-[10px] font-bold uppercase border ${isPaid ? 'bg-orange-50 text-orange-600 border-orange-100' : 'bg-green-50 text-green-600 border-green-100'}`}>{isPaid ? 'PAID' : 'FREE'}</span>}
                            </div>
                            <p className="text-sm text-gray-500 dark:text-gray-400 line-clamp-2 leading-relaxed mb-4">{item.description}</p>
                            <div className="mt-auto pt-4 flex items-center text-xs font-bold text-gray-400 group-hover:text-primary-600 transition-colors gap-1 uppercase tracking-wide">
                                <span>{ctaText}</span><Icons.ArrowRight size={12} className="transform group-hover:translate-x-1 transition-transform" />
                            </div>
                        </div>
                    </div>
                </a>
            )
        }

        const AiPromptCard = ({ item, onEnlarge }) => {
            const [copied, setCopied] = useState(false);
            const handleCopy = async () => {
                try { await navigator.clipboard.writeText(item.prompt); setCopied(true); setTimeout(() => setCopied(false), 2000); } catch (e) {}
            };
            return (
                <div className="liquid-glass rounded-[2rem] overflow-hidden flex flex-col h-full group border border-white/60 dark:border-white/5 transition-all duration-300 hover:shadow-glass-hover-light hover:-translate-y-1 bg-white/50 dark:bg-black/20">
                    <div className="relative aspect-[4/3] w-full overflow-hidden shrink-0 bg-gray-100 dark:bg-gray-800">
                        <img src={item.imageUrl} alt={item.title} className="w-full h-full object-cover transition-transform duration-700 group-hover:scale-105" loading="lazy" />
                        <div className="absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors duration-300"></div>
                        <button onClick={() => onEnlarge(item.imageUrl)} className="absolute top-4 right-4 p-2 bg-black/30 hover:bg-black/60 backdrop-blur-md rounded-full text-white opacity-0 group-hover:opacity-100 transition-all duration-300 transform translate-y-2 group-hover:translate-y-0"><Icons.Maximize2 size={16} /></button>
                        <div className="absolute bottom-4 left-4"><span className="px-3 py-1 bg-black/40 backdrop-blur-md rounded-lg text-[10px] font-bold text-white border border-white/10 flex items-center gap-1.5"><Icons.Wand2 size={12} className="text-primary-300" />{item.model}</span></div>
                    </div>
                    <div className="p-5 flex-1 flex flex-col gap-3">
                        <h3 className="font-bold text-gray-900 dark:text-white truncate text-base">{item.title}</h3>
                        <div className="relative flex-1 group/text">
                            <textarea value={item.prompt} readOnly className="w-full h-24 bg-white/50 dark:bg-black/20 rounded-xl border border-transparent focus:border-primary-500/20 resize-none p-3 text-xs text-gray-500 dark:text-gray-400 leading-relaxed outline-none custom-scrollbar" />
                            <button onClick={handleCopy} className={`absolute bottom-2 right-2 flex items-center justify-center w-8 h-8 rounded-lg transition-all shadow-sm ${copied ? 'bg-green-500 text-white' : 'bg-white text-gray-700 hover:bg-gray-50'}`}>{copied ? <Icons.Check size={14} /> : <Icons.Copy size={14} />}</button>
                        </div>
                    </div>
                </div>
            );
        };

        const SoftwareCard = ({ item }) => (
            <div className="liquid-glass h-full rounded-[2.5rem] p-6 flex flex-col md:flex-row gap-6 hover:shadow-glass-hover-light transition-all duration-300 hover:-translate-y-1 border border-white/60 dark:border-white/5 group bg-white/50 dark:bg-black/20">
                 <div className="w-full md:w-36 md:h-36 h-40 shrink-0 bg-white dark:bg-gray-800 rounded-3xl overflow-hidden border border-gray-100 dark:border-white/5 relative flex items-center justify-center shadow-inner">
                    <img src={item.imageUrl} alt={item.title} className="w-full h-full object-cover" loading="lazy" />
                </div>
                <div className="flex-1 flex flex-col min-w-0 py-1">
                    <div className="flex-1 mb-4">
                        <div className="flex items-center gap-3 mb-2"><h3 className="text-2xl font-black text-gray-900 dark:text-white">{item.title}</h3><span className="px-2 py-0.5 bg-gray-100 dark:bg-white/10 rounded text-[10px] font-bold text-gray-500 dark:text-gray-400">v{item.version}</span></div>
                        <p className="text-sm text-gray-600 dark:text-gray-300 leading-relaxed max-w-lg">{item.description}</p>
                    </div>
                    <div className="mt-auto flex flex-wrap gap-3">
                        {item.downloads.map((dl, idx) => (
                            <a key={idx} href={dl.url} target="_blank" className="flex items-center gap-2 px-4 py-2 rounded-xl bg-white dark:bg-white/5 hover:bg-primary-50 text-xs font-bold text-gray-700 border border-gray-200 hover:border-primary-200 transition-all shadow-sm active:scale-95">
                                <Icons.DownloadCloud size={14} className="text-primary-500" />{dl.label}
                            </a>
                        ))}
                    </div>
                </div>
            </div>
        );

        const App = () => {
            const [currentView, setCurrentView] = useState('recommend');
            const [activeCategory, setActiveCategory] = useState(CATEGORIES['recommend']?.[0]?.id || '');
            const [enlargedImage, setEnlargedImage] = useState(null);
            const [searchQuery, setSearchQuery] = useState('');
            
            // 强制默认为白色模式 (False)
            const [isDark, setIsDark] = useState(false); 

            const toggleTheme = () => {
                setIsDark(!isDark);
                document.documentElement.classList.toggle('dark');
            };

            const handleViewChange = (view) => { 
                setCurrentView(view); 
                setActiveCategory(CATEGORIES[view]?.[0]?.id || ''); 
                setSearchQuery(''); 
                window.scrollTo({ top: 0, behavior: 'smooth' }); 
            };
            
            const filteredData = useMemo(() => {
                if (searchQuery.trim()) return MOCK_FONTS.filter(i => i.name.toLowerCase().includes(searchQuery.toLowerCase()));
                let data = currentView === 'recommend' ? MOCK_TOOLS : currentView === 'ai-prompts' ? MOCK_AI_PROMPTS : currentView === 'fonts' ? MOCK_FONTS : currentView === 'software' ? MOCK_SOFTWARE : MOCK_ASSETS;
                return activeCategory ? data.filter(i => i.category === activeCategory) : data;
            }, [currentView, activeCategory, searchQuery]);

            const renderContent = () => {
                if (!filteredData.length) return <div className="text-center py-32 text-gray-400">Empty State</div>;
                const Grid = ({children}) => <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 md:gap-8 animate-in fade-in slide-in-from-bottom-4 duration-700 fill-mode-both">{children}</div>;
                
                if (searchQuery.trim()) return <Grid>{filteredData.map(i => <CommonCard key={i.id} item={i} ctaText="View" icon={Icons.Search} />)}</Grid>;
                if (currentView === 'software') return <div className="grid grid-cols-1 lg:grid-cols-2 gap-6 md:gap-8 animate-in fade-in slide-in-from-bottom-4 duration-700">{filteredData.map(i => <SoftwareCard key={i.id} item={i} />)}</div>;
                if (currentView === 'ai-prompts') return <Grid>{filteredData.map(i => <AiPromptCard key={i.id} item={i} onEnlarge={setEnlargedImage} />)}</Grid>;
                
                return <Grid>{filteredData.map(i => <CommonCard key={i.id} item={i} ctaText={currentView === 'recommend' ? "Visit" : "Download"} icon={currentView === 'recommend' ? Icons.ExternalLink : Icons.Download} isDownload={currentView !== 'recommend'} />)}</Grid>;
            };

            return (
                <div className="min-h-screen font-sans text-gray-900 dark:text-gray-100 pb-24 md:pb-10">
                    <TopNavigationBar currentView={currentView} onViewChange={handleViewChange} isDark={isDark} toggleTheme={toggleTheme} onSearch={setSearchQuery} searchQuery={searchQuery} />
                    <MobileNav currentView={currentView} onViewChange={handleViewChange} />
                    <main className="max-w-[1800px] mx-auto pt-24 md:pt-32 px-4 md:px-8">
                        <HeroSection currentView={currentView} banner={BANNER_CONFIG[currentView]} />
                        <CategoryBar categories={CATEGORIES[currentView]} activeCategory={activeCategory} onSelect={setActiveCategory} />
                        {renderContent()}
                    </main>
                    {enlargedImage && <div className="fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-xl animate-in fade-in" onClick={() => setEnlargedImage(null)}><img src={enlargedImage} className="max-w-full max-h-[90vh] rounded-lg shadow-2xl" /></div>}
                </div>
            );
        };

        // 简单的 MobileNav 补充
        const MobileNav = ({ currentView, onViewChange }) => {
            const navItems = [
                { id: 'recommend', icon: Icons.Zap }, { id: 'ai-prompts', icon: Icons.Sparkles },
                { id: 'fonts', icon: Icons.Type }, { id: 'design-assets', icon: Icons.Layers }, { id: 'software', icon: Icons.Box },
            ];
            return (
                <div className="md:hidden fixed bottom-6 left-1/2 transform -translate-x-1/2 z-50 w-[94%] max-w-sm">
                    <div className="liquid-glass shadow-dock-light dark:shadow-dock-dark rounded-[2rem] p-2 flex justify-between border border-white/40 dark:border-white/10 backdrop-blur-xl">
                        {navItems.map((item) => {
                            const isActive = currentView === item.id;
                            const Icon = item.icon;
                            return (
                                <button key={item.id} onClick={() => onViewChange(item.id)} className={`relative flex-1 py-3 rounded-[1.5rem] transition-all duration-300 flex flex-col items-center justify-center gap-1 ${isActive ? 'bg-white dark:bg-white/10 shadow-sm' : 'hover:bg-white/20'}`}>
                                    <Icon size={20} className={isActive ? 'text-primary-500 dark:text-white' : 'text-gray-400'} />
                                </button>
                            );
                        })}
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>